import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{$ as t,F as n,I as r,N as i,P as a,Q as ee,U as o,X as s,Y as c,Z as l,a as u,c as te,ct as d,d as f,dt as p,et as m,f as h,ft as g,ht as _,i as v,it as y,lt as b,nt as x,o as ne,ot as S,pt as C,r as re,rt as w,st as T,tt as E,ut as D,w as O}from"./mui-Ec-9_KFF.js";import{a as k}from"./vendor-CfXIGJNW.js";var A=e(_()),j=e(C()),M=d(t)(({theme:e})=>({width:`100%`,maxWidth:400,height:`100%`,display:`flex`,flexDirection:`column`,borderRadius:20,overflow:`hidden`,background:`#1a1a1a`,boxShadow:`0 8px 32px rgba(0,0,0,0.6)`,transition:`all 0.3s cubic-bezier(0.4, 0, 0.2, 1)`,border:`2px solid #333`,cursor:`pointer`,"&:hover":{transform:`translateY(-8px) scale(1.02)`,boxShadow:`0 20px 48px rgba(255, 215, 0, 0.3)`,borderColor:`#ffd700`}})),N=d(c)({height:240,width:`100%`,objectFit:`cover`,position:`relative`,"&::after":{content:`""`,position:`absolute`,top:0,left:0,right:0,bottom:0,background:`linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.1) 100%)`}});function P({post:e,clickable:t=!1}){let c=k(),[d,_]=A.useState(!1),[C,P]=A.useState(!1),[F,I]=A.useState(null),L=!!F,R=()=>{t&&e.id&&c(`/noticia/${e.id}`)},z=e=>{e.stopPropagation(),_(!d)},B=e=>{e.stopPropagation(),P(!C)},V=e=>{e.stopPropagation(),I(e.currentTarget)},H=e=>{e?.stopPropagation(),I(null)},U=t=>{t.stopPropagation();let n=`${window.location.origin}${window.location.pathname}#/noticia/${e.id}`;navigator.clipboard.writeText(n),alert(`Enlace copiado al portapapeles`),H()},W=t=>{t.stopPropagation(),e.id&&c(`/noticia/${e.id}`),H()},G=e=>{e.stopPropagation(),alert(`Gracias por contribuir. El equipo t칠cnico revisar치 la publicaci칩n.`),H()},K=e=>{if(!e)return`#808080`;let t=e.toString().toLowerCase().normalize(`NFD`).replace(/[\u0300-\u036f]/g,``),n=0;for(let e=0;e<t.length;e++)n=t.charCodeAt(e)+((n<<5)-n);let r=Math.abs(n%360),i=65+Math.abs(n)%20,a=50+Math.abs(n>>8)%15;return`hsl(${r}, ${i}%, ${a}%)`},q=e=>{let t=[g[500],D[500],b[500],p[500]],n=(e?.charCodeAt(0)||0)%t.length;return t[n]},J=e.titulo||e.Title||e.title||`Sin t칤tulo`,Y=e.subtitulo||e.descripcion||e.contenido||e.Caption||e.subtitle||`Sin descripci칩n`,X=e.seccion_nombre||e.categoria||e.Category||e.category||``,Z=e.imagen||e.imagen_url||e.Img||e.image||``,Q=e.autor||e.Author||e.author||`An칩nimo`,$=e.fechacreacion||e.fechapublicacion||e.fechaPublicacion||e.fechaCreacion||e.createdAt||e.creado_en,ie=$?($?.seconds?new Date($.seconds*1e3):new Date($)).toLocaleDateString(`es-ES`,{day:`numeric`,month:`short`,year:`numeric`}):``;return(0,j.jsxs)(M,{onClick:R,children:[(0,j.jsx)(s,{avatar:(0,j.jsx)(x,{sx:{bgcolor:q(Q),fontWeight:700,width:48,height:48,fontSize:`1.2rem`,boxShadow:`0 4px 12px rgba(0,0,0,0.15)`},children:Q?.[0]?.toUpperCase()||`A`}),action:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S,{"aria-label":`Opciones`,onClick:V,sx:{color:`#999`,"&:hover":{backgroundColor:`#2a2a2a`,color:`#ffd700`,transform:`rotate(90deg)`,transition:`transform 0.3s ease`}},children:(0,j.jsx)(ne,{})}),(0,j.jsxs)(a,{anchorEl:F,open:L,onClose:H,onClick:e=>e.stopPropagation(),PaperProps:{sx:{backgroundColor:`#1a1a1a`,border:`1px solid #333`,color:`#fff`,minWidth:200}},children:[(0,j.jsxs)(i,{onClick:U,children:[(0,j.jsx)(r,{children:(0,j.jsx)(te,{sx:{color:`#ffd700`}})}),(0,j.jsx)(n,{children:`Copiar enlace`})]}),(0,j.jsxs)(i,{onClick:W,children:[(0,j.jsx)(r,{children:(0,j.jsx)(u,{sx:{color:`#4CAF50`}})}),(0,j.jsx)(n,{children:`Ver completa`})]}),(0,j.jsxs)(i,{onClick:G,children:[(0,j.jsx)(r,{children:(0,j.jsx)(v,{sx:{color:`#f44336`}})}),(0,j.jsx)(n,{children:`Reportar`})]})]})]}),titleTypographyProps:{variant:`h6`,sx:{fontWeight:800,fontSize:`1.1rem`,lineHeight:1.4,display:`-webkit-box`,WebkitLineClamp:2,WebkitBoxOrient:`vertical`,overflow:`hidden`,letterSpacing:`-0.01em`,color:`#ffd700`}},subheaderTypographyProps:{sx:{color:`#999`,fontSize:`0.85rem`,display:`flex`,alignItems:`center`,gap:.5,mt:.5}},title:J,subheader:(0,j.jsxs)(E,{sx:{display:`flex`,alignItems:`center`,gap:.5},children:[(0,j.jsx)(O,{sx:{fontSize:16,color:`#ffd700`}}),ie]}),sx:{pb:1}}),Z?(0,j.jsx)(N,{component:`img`,image:Z,alt:`Imagen de ${J}`,loading:`lazy`}):(0,j.jsx)(E,{sx:{height:240,background:`linear-gradient(135deg, #667eea 0%, #764ba2 100%)`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:(0,j.jsx)(y,{variant:`h4`,sx:{color:`white`,opacity:.7},children:`游닗`})}),(0,j.jsxs)(l,{sx:{pt:2.5,pb:1,flexGrow:1},children:[X&&(0,j.jsx)(w,{label:X,size:`small`,sx:{mb:1.5,fontWeight:700,fontSize:`0.75rem`,borderRadius:`8px`,letterSpacing:`0.02em`,textTransform:`uppercase`,backgroundColor:K(X),color:`#fff`}}),(0,j.jsx)(y,{variant:`body2`,sx:{color:`#c0c0c0`,fontSize:`0.95rem`,lineHeight:1.7,display:`-webkit-box`,WebkitLineClamp:3,WebkitBoxOrient:`vertical`,overflow:`hidden`,minHeight:70},children:Y})]}),(0,j.jsx)(o,{sx:{mx:2,borderColor:`#333`}}),(0,j.jsxs)(ee,{disableSpacing:!0,sx:{px:2,py:1.5,mt:`auto`},children:[(e.contenido||e.descripcion||e.Content)&&String(e.contenido||e.descripcion||e.Content).trim().length>0&&(0,j.jsx)(m,{onClick:z,endIcon:(0,j.jsx)(h,{sx:{transform:d?`rotate(180deg)`:`rotate(0deg)`,transition:`transform 0.3s ease`,color:`#ffd700`}}),sx:{textTransform:`none`,fontWeight:600,fontSize:`0.9rem`,px:1.5,color:`#ffd700`,"&:hover":{backgroundColor:`#ffd70010`}},size:`small`,"aria-expanded":d,"aria-label":d?`Mostrar menos`:`Mostrar m치s`,children:d?`Ver menos`:`Ver m치s`}),(0,j.jsxs)(E,{sx:{marginLeft:`auto`,display:`flex`,gap:.5},children:[(0,j.jsx)(S,{"aria-label":`A침adir a favoritos`,onClick:B,sx:{color:C?`error.main`:`action.active`,transition:`all 0.2s ease`,"&:hover":{transform:`scale(1.15)`}},children:(0,j.jsx)(f,{sx:{fontSize:C?24:22}})}),(0,j.jsx)(S,{"aria-label":`Compartir`,onClick:t=>{t.stopPropagation();let n=`${window.location.origin}${window.location.pathname}#/noticia/${e.id}`;navigator.share?navigator.share({title:J,text:Y,url:n}).catch(()=>{navigator.clipboard.writeText(n),alert(`Enlace copiado al portapapeles`)}):(navigator.clipboard.writeText(n),alert(`Enlace copiado al portapapeles`))},sx:{color:`#ffd700`,"&:hover":{transform:`scale(1.15)`}},children:(0,j.jsx)(re,{})})]})]}),(0,j.jsxs)(T,{in:d,timeout:`auto`,unmountOnExit:!0,children:[(0,j.jsx)(o,{sx:{borderColor:`#333`}}),(0,j.jsxs)(l,{sx:{pt:2,pb:2,backgroundColor:`#0a0a0a`},children:[(0,j.jsx)(y,{variant:`overline`,sx:{mb:1.5,color:`#ffd700`,fontWeight:700,letterSpacing:`0.1em`},children:`Contenido completo`}),(0,j.jsx)(y,{sx:{whiteSpace:`pre-line`,lineHeight:1.8,fontSize:`0.95rem`,color:`#e0e0e0`},children:e.contenido||e.descripcion||e.Content||`Sin contenido`})]})]})]})}var F=P;export{F as t};