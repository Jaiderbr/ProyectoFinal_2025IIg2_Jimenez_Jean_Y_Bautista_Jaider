import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{ht as t,pt as n}from"./mui-Ec-9_KFF.js";import{a as r,n as i}from"./vendor-CfXIGJNW.js";import"./supabase-O-LofRAx.js";import{t as a}from"./index-CxN0Tboc.js";var o=e(t()),s=e(n()),c=()=>{let e=r(),{register:t}=a(),[n,c]=(0,o.useState)({username:``,email:``,password:``,confirm:``,role:`reportero`}),[l,u]=(0,o.useState)(``),d=e=>{c({...n,[e.target.name]:e.target.value})};return(0,s.jsx)(`div`,{className:`register-page`,children:(0,s.jsxs)(`div`,{className:`register-card`,children:[(0,s.jsxs)(`div`,{className:`register-logo`,children:[(0,s.jsxs)(`svg`,{viewBox:`0 0 120 120`,width:`86`,height:`86`,xmlns:`http://www.w3.org/2000/svg`,children:[(0,s.jsx)(`defs`,{children:(0,s.jsxs)(`linearGradient`,{id:`g1`,x1:`0`,x2:`1`,y1:`0`,y2:`1`,children:[(0,s.jsx)(`stop`,{offset:`0`,stopColor:`#ffd700`}),(0,s.jsx)(`stop`,{offset:`1`,stopColor:`#ffb000`})]})}),(0,s.jsx)(`rect`,{rx:`20`,width:`120`,height:`120`,fill:`#0a0a0a`}),(0,s.jsxs)(`g`,{transform:`translate(18,24)`,children:[(0,s.jsx)(`rect`,{width:`84`,height:`56`,rx:`6`,fill:`url(#g1)`,opacity:`0.95`}),(0,s.jsx)(`rect`,{x:`6`,y:`6`,width:`72`,height:`12`,rx:`2`,fill:`#0a0a0a`}),(0,s.jsx)(`rect`,{x:`6`,y:`26`,width:`72`,height:`6`,rx:`2`,fill:`#0a0a0a`})]})]}),(0,s.jsx)(`h1`,{children:`Crear cuenta`})]}),(0,s.jsxs)(`form`,{className:`register-form`,onSubmit:async r=>{if(r.preventDefault(),u(``),!n.username.trim()||!n.email.trim()||!n.password.trim()){u(`Por favor completa todos los campos.`);return}if(n.password!==n.confirm){u(`Las contraseñas no coinciden.`);return}try{await t(n.username,n.email,n.password,n.role),c({username:``,email:``,password:``,confirm:``,role:`reportero`}),e(`/login`)}catch(e){console.error(`Error al registrar:`,e),u(e?.message||`Error al registrar usuario`)}},children:[l&&(0,s.jsx)(`div`,{className:`register-error`,children:l}),(0,s.jsxs)(`label`,{className:`field`,children:[(0,s.jsx)(`span`,{children:`Nombre de usuario`}),(0,s.jsx)(`input`,{type:`text`,name:`username`,placeholder:`Ej: Tourist_dev`,value:n.username,onChange:d,required:!0})]}),(0,s.jsxs)(`label`,{className:`field`,children:[(0,s.jsx)(`span`,{children:`Correo electrónico`}),(0,s.jsx)(`input`,{type:`email`,name:`email`,placeholder:`correo@ejemplo.com`,value:n.email,onChange:d,required:!0})]}),(0,s.jsxs)(`label`,{className:`field`,children:[(0,s.jsx)(`span`,{children:`Contraseña`}),(0,s.jsx)(`input`,{type:`password`,name:`password`,placeholder:`••••••••`,value:n.password,onChange:d,required:!0})]}),(0,s.jsxs)(`label`,{className:`field`,children:[(0,s.jsx)(`span`,{children:`Confirmar contraseña`}),(0,s.jsx)(`input`,{type:`password`,name:`confirm`,placeholder:`••••••••`,value:n.confirm,onChange:d,required:!0})]}),(0,s.jsxs)(`div`,{className:`field role-selector`,children:[(0,s.jsx)(`span`,{children:`Selecciona tu rol:`}),(0,s.jsxs)(`label`,{children:[(0,s.jsx)(`input`,{type:`radio`,name:`role`,value:`reportero`,checked:n.role===`reportero`,onChange:d}),`Reportero`]}),(0,s.jsxs)(`label`,{children:[(0,s.jsx)(`input`,{type:`radio`,name:`role`,value:`editor`,checked:n.role===`editor`,onChange:d}),`Editor`]})]}),(0,s.jsx)(`button`,{type:`submit`,className:`btn submit`,children:`Registrarme`}),(0,s.jsx)(i,{to:`/`,className:`btn back`,style:{textAlign:`center`},children:`Volver al inicio`}),(0,s.jsx)(`div`,{className:`divider`}),(0,s.jsxs)(`p`,{className:`login-cta`,children:[`¿Ya tienes una cuenta?`,` `,(0,s.jsx)(i,{to:`/login`,className:`link-login`,children:`Inicia sesión aquí`})]})]})]})})};export{c as default};