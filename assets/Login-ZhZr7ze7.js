import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{ht as t,pt as n}from"./mui-Ec-9_KFF.js";import{a as r,n as i}from"./vendor-CfXIGJNW.js";import"./supabase-O-LofRAx.js";import{t as a}from"./index-D9FOe0EU.js";var o=e(t()),s=e(n()),c=()=>{let e=r(),{login:t}=a(),[n,c]=(0,o.useState)(``),[l,u]=(0,o.useState)(``),[d,f]=(0,o.useState)(!1),[p,m]=(0,o.useState)(``),h=async r=>{if(r.preventDefault(),m(``),!n.trim()||!l){m(`Por favor ingresa correo y contraseña.`);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){m(`El formato del correo no es válido.`);return}try{let r=await t(n,l);r.role===`editor`?e(`/PanelEditor`):r.role===`reportero`?e(`/PanelReportero`):e(`/`)}catch(e){console.error(`Error al iniciar sesión:`,e),m(e?.message||`Error al iniciar sesión. Intenta nuevamente.`)}};return(0,s.jsx)(`div`,{className:`login-page`,children:(0,s.jsxs)(`div`,{className:`login-card`,role:`main`,"aria-labelledby":`login-title`,children:[(0,s.jsxs)(`div`,{className:`login-logo`,"aria-hidden":`false`,children:[(0,s.jsxs)(`svg`,{viewBox:`0 0 120 120`,width:`86`,height:`86`,xmlns:`http://www.w3.org/2000/svg`,children:[(0,s.jsx)(`defs`,{children:(0,s.jsxs)(`linearGradient`,{id:`g1`,x1:`0`,x2:`1`,y1:`0`,y2:`1`,children:[(0,s.jsx)(`stop`,{offset:`0`,stopColor:`#ffd700`}),(0,s.jsx)(`stop`,{offset:`1`,stopColor:`#ffb000`})]})}),(0,s.jsx)(`rect`,{rx:`20`,width:`120`,height:`120`,fill:`#0a0a0a`}),(0,s.jsxs)(`g`,{transform:`translate(18,24)`,children:[(0,s.jsx)(`rect`,{width:`84`,height:`56`,rx:`6`,fill:`url(#g1)`,opacity:`0.95`}),(0,s.jsx)(`rect`,{x:`6`,y:`6`,width:`72`,height:`12`,rx:`2`,fill:`#0a0a0a`}),(0,s.jsx)(`rect`,{x:`6`,y:`26`,width:`72`,height:`6`,rx:`2`,fill:`#0a0a0a`})]})]}),(0,s.jsx)(`h1`,{id:`login-title`,children:`NewsPortal`})]}),(0,s.jsxs)(`form`,{className:`login-form`,onSubmit:h,noValidate:!0,children:[p&&(0,s.jsx)(`div`,{className:`login-error`,role:`alert`,children:p}),(0,s.jsxs)(`label`,{className:`field`,children:[(0,s.jsx)(`span`,{className:`label-text`,children:`Correo electrónico`}),(0,s.jsx)(`input`,{type:`email`,value:n,onChange:e=>c(e.target.value),placeholder:`correo@ejemplo.com`,autoComplete:`username`,required:!0})]}),(0,s.jsxs)(`label`,{className:`field`,children:[(0,s.jsx)(`span`,{className:`label-text`,children:`Contraseña`}),(0,s.jsxs)(`div`,{className:`password-wrapper`,children:[(0,s.jsx)(`input`,{type:d?`text`:`password`,value:l,onChange:e=>u(e.target.value),placeholder:`••••••••`,autoComplete:`current-password`,required:!0}),(0,s.jsx)(`button`,{type:`button`,className:`show-toggle`,"aria-pressed":d,onClick:()=>f(e=>!e),title:d?`Ocultar contraseña`:`Mostrar contraseña`,children:d?`Ocultar`:`Mostrar`})]})]}),(0,s.jsx)(`button`,{className:`btn submit`,type:`submit`,children:`Iniciar sesión`}),(0,s.jsx)(i,{to:`/`,className:`btn back`,style:{textAlign:`center`},children:`Volver al inicio`}),(0,s.jsx)(`div`,{className:`divider`}),(0,s.jsxs)(`p`,{className:`signup-cta`,children:[`¿No tienes cuenta?`,` `,(0,s.jsx)(i,{to:`/register`,className:`link-register`,children:`Regístrate aquí`})]})]})]})})};export{c as default};